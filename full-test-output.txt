
> groq-code-cli@1.0.2 test:coverage
> vitest run --coverage


 RUN  v3.2.4 /Users/e/dev/github.com/cloudbring/groq-code-cli
      Coverage enabled with v8

 â¯ src/core/agent.test.ts (33 tests | 2 failed) 85ms
   âœ“ Agent > Agent.create > should create agent with provided model 3ms
   âœ“ Agent > Agent.create > should use default model from config if available 0ms
   âœ“ Agent > Agent.create > should use provided model if no default in config 1ms
   âœ“ Agent > Agent.create > should accept custom system message 0ms
   âœ“ Agent > API Key Management > should set API key 4ms
   âœ“ Agent > API Key Management > should save API key 4ms
   âœ“ Agent > API Key Management > should clear API key 1ms
   âœ“ Agent > Model Management > should set and get current model 1ms
   âœ“ Agent > Model Management > should update system message when model changes 1ms
   âœ“ Agent > Session Management > should set session auto approve 3ms
   âœ“ Agent > Session Management > should clear history 2ms
   âœ“ Agent > Session Management > should set tool callbacks 2ms
   âœ“ Agent > Session Management > should handle interrupt 3ms
   âœ“ Agent > Chat Functionality > should throw error when no API key available 5ms
   âœ“ Agent > Chat Functionality > should use API key from environment variable 3ms
   âœ“ Agent > Chat Functionality > should use API key from config file when env var not available 1ms
   âœ“ Agent > Chat Functionality > should handle simple chat without tools 1ms
   âœ“ Agent > Chat Functionality > should handle chat with reasoning 1ms
   âœ“ Agent > Chat Functionality > should handle tool calls 4ms
   âœ“ Agent > Chat Functionality > should handle tool call approval 1ms
   âœ“ Agent > Chat Functionality > should handle tool call rejection 3ms
   âœ“ Agent > Chat Functionality > should handle session auto approval 1ms
   âœ“ Agent > Chat Functionality > should handle read-before-edit validation failure 1ms
   Ã— Agent > Chat Functionality > should handle truncated tool arguments 7ms
     â†’ expected "spy" to be called with arguments: [ 'read_file', ObjectContaining{â€¦} ][90m

Number of calls: [1m0[22m
[39m
   âœ“ Agent > Chat Functionality > should handle API errors gracefully 1ms
   âœ“ Agent > Chat Functionality > should handle 401 API errors by throwing immediately 1ms
   âœ“ Agent > Chat Functionality > should handle max iterations with user continuation 1ms
   âœ“ Agent > Chat Functionality > should handle interruption during chat 0ms
   âœ“ Agent > Chat Functionality > should strip repo_browser prefix from tool names 3ms
   Ã— Agent > Error Handling > should handle tool execution errors 18ms
     â†’ expected "spy" to be called with arguments: [ 'read_file', ObjectContaining{â€¦} ][90m

Number of calls: [1m0[22m
[39m
   âœ“ Agent > Error Handling > should handle missing Groq client 2ms
   âœ“ Agent > Debug Functionality > should create agent with debug enabled 1ms
   âœ“ Agent > Debug Functionality > should handle debug logging without errors 3ms
 â¯ src/ui/components/input-overlays/Login.test.tsx (23 tests | 14 failed) 122ms
   âœ“ Login > rendering > should render login form 17ms
   âœ“ Login > rendering > should render cursor 6ms
   Ã— Login > rendering > should render empty API key field initially 15ms
     â†’ expected 'Login with Groq API Key' to contain 'API Key:'
   Ã— Login > input handling > should handle character input 1ms
     â†’ Cannot read properties of undefined (reading '0')
   Ã— Login > input handling > should handle backspace 1ms
     â†’ Cannot read properties of undefined (reading '0')
   Ã— Login > input handling > should handle delete key 1ms
     â†’ Cannot read properties of undefined (reading '0')
   Ã— Login > input handling > should handle enter key with valid input 1ms
     â†’ Cannot read properties of undefined (reading '0')
   Ã— Login > input handling > should handle enter key with empty input 1ms
     â†’ Cannot read properties of undefined (reading '0')
   Ã— Login > input handling > should handle escape key 7ms
     â†’ Cannot read properties of undefined (reading '0')
   Ã— Login > input handling > should handle ctrl+c 1ms
     â†’ Cannot read properties of undefined (reading '0')
   Ã— Login > input handling > should ignore meta key combinations 1ms
     â†’ Cannot read properties of undefined (reading '0')
   Ã— Login > input handling > should ignore ctrl key combinations (except ctrl+c) 1ms
     â†’ Cannot read properties of undefined (reading '0')
   âœ“ Login > API key display > should mask API key with asterisks 1ms
   âœ“ Login > API key display > should show ellipsis for long API keys 1ms
   âœ“ Login > API key display > should limit asterisk display to 20 characters 1ms
   Ã— Login > form validation > should call onSubmit with trimmed API key 1ms
     â†’ Cannot read properties of undefined (reading '0')
   Ã— Login > form validation > should not submit empty or whitespace-only API key 1ms
     â†’ Cannot read properties of undefined (reading '0')
   âœ“ Login > accessibility and usability > should provide clear instructions 1ms
   âœ“ Login > accessibility and usability > should have underlined link to console 16ms
   âœ“ Login > accessibility and usability > should have proper visual hierarchy 1ms
   âœ“ Login > component lifecycle > should initialize with empty API key 10ms
   Ã— Login > component lifecycle > should handle multiple re-renders 26ms
     â†’ expected "spy" to be called at least once
   Ã— Login > component lifecycle > should handle prop changes 7ms
     â†’ expected "spy" to be called at least once
 â¯ src/ui/App.test.tsx (11 tests | 8 failed) 131ms
   Ã— App > initialization > should show loading state initially 74ms
     â†’ Unable to find an element with the text: Initializing agent.... This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mdata-testid[39m=[32m"box"[39m
      [33mflexdirection[39m=[32m"column"[39m
      [33mheight[39m=[32m"100%"[39m
    [36m>[39m
      [36m<div[39m
        [33mdata-testid[39m=[32m"chat"[39m
      [36m>[39m
        [0mChat Component[0m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   âœ“ App > initialization > should show Chat component after initialization 8ms
   âœ“ App > rendering > should render with correct layout structure 3ms
   Ã— App > rendering > should pass agent prop to Chat component 20ms
     â†’ expected "spy" to be called with arguments: [ ObjectContaining{â€¦}, Anything ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[32m-   ObjectContaining {[90m
[31m+   {[90m
[2m      "agent": {[22m
[2m        "chat": [Function spy],[22m
[2m        "interrupt": [Function spy],[22m
[2m        "setApiKey": [Function spy],[22m
[2m        "setReasoningDisplay": [Function spy],[22m
[2m        "toggleAutoApprove": [Function spy],[22m
[2m      },[22m
[2m    },[22m
[32m-   Anything,[90m
[31m+   undefined,[90m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
   Ã— App > state management > should properly manage isReady state 2ms
     â†’ Unable to find an element with the text: Initializing agent.... This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mdata-testid[39m=[32m"box"[39m
      [33mflexdirection[39m=[32m"column"[39m
      [33mheight[39m=[32m"100%"[39m
    [36m>[39m
      [36m<div[39m
        [33mdata-testid[39m=[32m"chat"[39m
      [36m>[39m
        [0mChat Component[0m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   Ã— App > edge cases > should handle null agent gracefully 2ms
     â†’ Unable to find an element with the text: Initializing agent.... This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mdata-testid[39m=[32m"box"[39m
      [33mflexdirection[39m=[32m"column"[39m
      [33mheight[39m=[32m"100%"[39m
    [36m>[39m
      [36m<div[39m
        [33mdata-testid[39m=[32m"chat"[39m
      [36m>[39m
        [0mChat Component[0m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   Ã— App > edge cases > should handle undefined agent gracefully 2ms
     â†’ Unable to find an element with the text: Initializing agent.... This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mdata-testid[39m=[32m"box"[39m
      [33mflexdirection[39m=[32m"column"[39m
      [33mheight[39m=[32m"100%"[39m
    [36m>[39m
      [36m<div[39m
        [33mdata-testid[39m=[32m"chat"[39m
      [36m>[39m
        [0mChat Component[0m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   âœ“ App > edge cases > should handle re-renders with different agent 8ms
   Ã— App > layout > should use column flex direction 3ms
     â†’ Invalid Chai property: toHaveAttribute
   Ã— App > layout > should set height to 100% 2ms
     â†’ Invalid Chai property: toHaveAttribute
   Ã— App > layout > should center loading message 2ms
     â†’ expected undefined to be truthy
 â¯ src/ui/hooks/useAgent.test.ts (32 tests | 9 failed) 108ms
   âœ“ useAgent > initial state > should initialize with correct default values 10ms
   âœ“ useAgent > initial state > should provide all required methods 3ms
   âœ“ useAgent > sendMessage > should add user message and call agent 3ms
   âœ“ useAgent > sendMessage > should not send message if already processing 1ms
   âœ“ useAgent > sendMessage > should handle chat errors gracefully 7ms
   âœ“ useAgent > sendMessage > should handle API errors with status and error details 2ms
   âœ“ useAgent > sendMessage > should ignore abort errors 3ms
   Ã— useAgent > tool execution callbacks > should handle onThinkingText callback 18ms
     â†’ expected undefined to be defined
   Ã— useAgent > tool execution callbacks > should handle onFinalMessage callback 11ms
     â†’ expected undefined to be defined
   Ã— useAgent > tool execution callbacks > should handle onToolStart callback 4ms
     â†’ expected null not to be null
   Ã— useAgent > tool execution callbacks > should handle onToolEnd callback with success 2ms
     â†’ expected undefined to be 'âœ“ read_file completed successfully' // Object.is equality
   Ã— useAgent > tool execution callbacks > should handle onToolEnd callback with failure 2ms
     â†’ expected undefined to be 'ðŸ”´ read_file failed: File not found' // Object.is equality
   Ã— useAgent > tool execution callbacks > should handle onToolEnd callback with user rejection 2ms
     â†’ expected undefined to be 'ðŸš« delete_file rejected by user' // Object.is equality
   âœ“ useAgent > tool execution callbacks > should handle onApiUsage callback 1ms
   Ã— useAgent > tool execution callbacks > should handle onToolApproval callback 1ms
     â†’ expected null not to be null
   Ã— useAgent > tool execution callbacks > should handle onMaxIterations callback 2ms
     â†’ expected null not to be null
   Ã— useAgent > tool approval > should approve tool execution 2ms
     â†’ result.current.setPendingApproval is not a function
   âœ“ useAgent > tool approval > should reject tool execution 1ms
   âœ“ useAgent > utility functions > should set API key on agent 1ms
   âœ“ useAgent > utility functions > should toggle auto approve 1ms
   âœ“ useAgent > utility functions > should clear history 1ms
   âœ“ useAgent > utility functions > should interrupt request 1ms
   âœ“ useAgent > utility functions > should toggle reasoning display 1ms
   âœ“ useAgent > message management > should add message with generated id and timestamp 7ms
   âœ“ useAgent > message management > should add message with reasoning 1ms
   âœ“ useAgent > message management > should generate unique message ids 1ms
   âœ“ useAgent > tool execution states > should identify tools that need approval 4ms
   âœ“ useAgent > tool execution states > should handle tool execution status changes 1ms
   âœ“ useAgent > edge cases > should handle empty message content 1ms
   âœ“ useAgent > edge cases > should handle multiple rapid message additions 2ms
   âœ“ useAgent > edge cases > should handle callback functions being undefined 7ms
   âœ“ useAgent > edge cases > should handle agent methods throwing errors 1ms
 â¯ src/ui/components/input-overlays/ModelSelector.test.tsx (30 tests | 1 failed) 174ms
   âœ“ ModelSelector > rendering > should render model selector with title 24ms
   âœ“ ModelSelector > rendering > should render all available models 3ms
   âœ“ ModelSelector > rendering > should show pricing information link 4ms
   âœ“ ModelSelector > rendering > should highlight first model by default 3ms
   âœ“ ModelSelector > rendering > should show current model when provided 2ms
   âœ“ ModelSelector > rendering > should select current model when provided 5ms
   âœ“ ModelSelector > rendering > should show descriptions for models that have them 2ms
   âœ“ ModelSelector > navigation > should handle up arrow navigation 2ms
   âœ“ ModelSelector > navigation > should handle down arrow navigation 4ms
   âœ“ ModelSelector > navigation > should not go above first model 2ms
   âœ“ ModelSelector > navigation > should not go below last model 2ms
   âœ“ ModelSelector > navigation > should wrap navigation correctly at boundaries 2ms
   âœ“ ModelSelector > selection and submission > should handle enter key to submit 2ms
   Ã— ModelSelector > selection and submission > should submit correct model when selection changes 10ms
     â†’ expected "spy" to be called with arguments: [ 'openai/gpt-oss-120b' ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[32m-   "openai/gpt-oss-120b",[90m
[31m+   "moonshotai/kimi-k2-instruct",[90m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
   âœ“ ModelSelector > selection and submission > should handle escape key to cancel 2ms
   âœ“ ModelSelector > selection and submission > should handle ctrl+c to cancel 2ms
   âœ“ ModelSelector > model information > should display model descriptions when available 2ms
   âœ“ ModelSelector > model information > should handle models without descriptions 46ms
   âœ“ ModelSelector > model information > should show current model indicator 2ms
   âœ“ ModelSelector > initialization > should initialize with first model when no current model provided 11ms
   âœ“ ModelSelector > initialization > should initialize with current model when provided 5ms
   âœ“ ModelSelector > initialization > should fallback to first model for unknown current model 13ms
   âœ“ ModelSelector > visual feedback > should show selection indicator 4ms
   âœ“ ModelSelector > visual feedback > should have proper visual hierarchy 3ms
   âœ“ ModelSelector > visual feedback > should warn about chat clearing 2ms
   âœ“ ModelSelector > accessibility > should provide clear instructions 2ms
   âœ“ ModelSelector > accessibility > should have underlined pricing link 3ms
   âœ“ ModelSelector > edge cases > should handle empty model list gracefully 2ms
   âœ“ ModelSelector > edge cases > should handle rapid navigation 2ms
   âœ“ ModelSelector > edge cases > should handle multiple renders 4ms
 âœ“ src/commands/definitions/clear.test.ts (7 tests) 10ms
 âœ“ src/utils/markdown.test.ts (22 tests) 5ms
 âœ“ src/utils/file-ops.test.ts (24 tests) 26ms
 âœ“ src/ui/hooks/useTokenMetrics.test.ts (33 tests) 49ms
 âœ“ src/tools/tool-schemas.test.ts (44 tests) 15ms
 âœ“ src/ui/components/display/TokenMetrics.test.tsx (12 tests) 121ms
 âœ“ src/commands/index.test.ts (18 tests) 12ms
 âœ“ src/commands/base.test.ts (8 tests) 11ms
 âœ“ src/utils/local-settings.test.ts (21 tests) 9ms
 âœ“ src/commands/definitions/reasoning.test.ts (11 tests) 7ms
 âœ“ src/commands/definitions/model.test.ts (8 tests) 6ms
 âœ“ src/commands/definitions/login.test.ts (5 tests) 9ms
 âœ“ src/commands/definitions/help.test.ts (7 tests) 3ms
 âœ“ src/tools/validators.test.ts (9 tests) 3ms
 âœ“ src/utils/constants.test.ts (6 tests) 2ms
 â¯ src/ui/components/core/Chat.test.tsx (16 tests | 9 failed) 3140ms
   âœ“ Chat > rendering > should render all core components 14ms
   âœ“ Chat > rendering > should show token metrics when active 2ms
   âœ“ Chat > rendering > should show pending approval when tool needs approval 4ms
   âœ“ Chat > rendering > should show login when showLogin is true 2ms
   âœ“ Chat > rendering > should show max iterations dialog when pending 15ms
   Ã— Chat > keyboard shortcuts > should exit on Ctrl+C 16ms
     â†’ Cannot read properties of undefined (reading '0')
   Ã— Chat > keyboard shortcuts > should toggle auto-approve on Shift+Tab 3ms
     â†’ Cannot read properties of undefined (reading '0')
   Ã— Chat > keyboard shortcuts > should handle escape key for pending approval 5ms
     â†’ Cannot read properties of undefined (reading '0')
   Ã— Chat > keyboard shortcuts > should interrupt processing on escape when processing 4ms
     â†’ Cannot read properties of undefined (reading '0')
   Ã— Chat > message handling > should send messages through agent hook 1046ms
     â†’ expected "spy" to be called with arguments: [ 'test message' ][90m

Number of calls: [1m0[22m
[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mdata-testid[39m=[32m"box"[39m
      [36m>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"box"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"message-history"[39m
          [36m>[39m
            [0mMessageHistory[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"token-metrics"[39m
        [36m>[39m
          [0mTokenMetrics[0m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"box"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"message-input"[39m
          [36m>[39m
            [36m<input[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
            [36m<button>[39m
              [0mSend[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"box"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"box"[39m
          [36m>[39m
            [36m<span[39m
              [33mdata-testid[39m=[32m"text"[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"box"[39m
          [36m>[39m
            [36m<span[39m
              [33mdata-testid[39m=[32m"text"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
   âœ“ Chat > message handling > should handle slash commands 2ms
   Ã— Chat > state management > should hide input when processing 4ms
     â†’ expected null to be truthy
   Ã— Chat > state management > should hide input when pending approval 3ms
     â†’ expected null to be truthy
   Ã— Chat > tool approval > should approve tool execution 1005ms
     â†’ expected "spy" to be called with arguments: [ true ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[2m    true,[22m
[31m+   false,[90m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mdata-testid[39m=[32m"box"[39m
      [36m>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"box"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"message-history"[39m
          [36m>[39m
            [0mMessageHistory[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"token-metrics"[39m
        [36m>[39m
          [0mTokenMetrics[0m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"box"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"pending-approval"[39m
          [36m>[39m
            [36m<button>[39m
              [0mApprove[0m
            [36m</button>[39m
            [36m<button>[39m
              [0mReject[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"box"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"box"[39m
          [36m>[39m
            [36m<span[39m
              [33mdata-testid[39m=[32m"text"[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"box"[39m
          [36m>[39m
            [36m<span[39m
              [33mdata-testid[39m=[32m"text"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
   Ã— Chat > tool approval > should reject tool execution 1004ms
     â†’ expected "spy" to be called with arguments: [ false ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[2m    false,[22m
[31m+   false,[90m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mdata-testid[39m=[32m"box"[39m
      [36m>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"box"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"message-history"[39m
          [36m>[39m
            [0mMessageHistory[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"token-metrics"[39m
        [36m>[39m
          [0mTokenMetrics[0m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"box"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"pending-approval"[39m
          [36m>[39m
            [36m<button>[39m
              [0mApprove[0m
            [36m</button>[39m
            [36m<button>[39m
              [0mReject[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"box"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"box"[39m
          [36m>[39m
            [36m<span[39m
              [33mdata-testid[39m=[32m"text"[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"box"[39m
          [36m>[39m
            [36m<span[39m
              [33mdata-testid[39m=[32m"text"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
   âœ“ Chat > metrics integration > should pass metrics callbacks to useAgent 2ms

 Test Files  8 failed | 15 passed (23)
      Tests  43 failed | 337 passed (380)
   Start at  08:47:45
   Duration  4.18s (transform 920ms, setup 0ms, collect 3.11s, tests 4.05s, environment 5.39s, prepare 1.94s)

